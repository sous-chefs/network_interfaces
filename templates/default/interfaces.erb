<% if @auto -%>
auto <%= @device %>
<% end %>
iface <%= @device %> <%= @family %> <%= @method %>
<% if @address -%>
  address <%= @address %>
<% end %>
<% if @netmask -%>
  netmask <%= @netmask %>
<% end %>
<% if @broadcast -%>
  broadcast <%= @broadcast %>
<% end %>
<% if @gateway -%>
  gateway <%= @gateway %>
<% end %>
<% if @vlan_dev -%>
  vlan_raw_device <%= @vlan_dev %>
<% end %>
<% if @bridge_ports -%>
  bridge_ports<% @bridge_ports.each do |port| %> <%= port %><% end %>
<% end %>
<% unless @bridge_stp.nil? -%>
  bridge_stp <%= @bridge_stp ? "on" : "off" %>
<% end %>
<% if @bond_slaves -%>
  bond-slaves<% @bond_slaves.each do |iface| %> <%= iface %><% end %>
<% end %>
<% if @bond_mode -%>
  bond-mode <%= @bond_mode %>
<% end %>
<% if @metric -%>
  metric <%= @metric %>
<% end %>
<% if @mtu -%>
  mtu <%= @mtu %>
<% end %>
<% if @pre_up -%>
  <% if @pre_up.kind_of?(Array) -%>
    <% @pre_up.flatten.each do |u| -%>
      pre-up <%= u %>
    <% end %>
  <% else -%>
      pre-up <%= @pre_up %>
  <% end %>
<% end %>
<% if @up -%>
  <% if @up.kind_of?(Array) -%>
    <% @up.flatten.each do |u| -%>
      up <%= u %>
    <% end %>
  <% else -%>
      up <%= @up %>
  <% end %>
<% end %>
<% if @post_up -%>
  <% if @post_up.kind_of?(Array) -%>
    <% @post_up.flatten.each do |u| -%>
      post-up <%= u %>
    <% end %>
  <% else -%>
      post-up <%= @post_up %>
  <% end %>
<% end %>
<% if @pre_down -%>
  <% if @pre_down.kind_of?(Array) -%>
    <% @pre_down.flatten.each do |u| -%>
      pre-down <%= u %>
    <% end %>
  <% else -%>
      pre-down <%= @pre_down %>
  <% end %>
<% end %>
<% if @down -%>
  <% if @down.kind_of?(Array) -%>
    <% @down.flatten.each do |u| -%>
      down <%= u %>
    <% end %>
  <% else -%>
      down <%= @down %>
  <% end %>
<% end %>
<% if @post_down -%>
  <% if @post_down.kind_of?(Array) -%>
    <% @post_down.flatten.each do |u| -%>
      post-down <%= u %>
    <% end %>
  <% else -%>
      post-down <%= @post_down %>
  <% end %>
<% end %>
<% if @custom %>
<% @custom.sort_by{ |instruc, command| instruc }.each do |instruc, command| -%>
        <%= instruc %> <%= command %>
<% end %>
<% end %>
